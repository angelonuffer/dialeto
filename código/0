faixa = faixa.0
símbolo = símbolo.0
sequência = sequência.0
alternativa = alternativa.0
opcional = opcional.0
repetição = repetição.0
inversão = inversão.0
faixa_gerar = faixa_gerar.0
símbolo_gerar = símbolo_gerar.0
sequência_gerar = sequência_gerar.0
alternativa_gerar = alternativa_gerar.0
opcional_gerar = opcional_gerar.0
repetição_gerar = repetição_gerar.0
inversão_gerar = inversão_gerar.0

dialeto = {
  analisar_de: { entrada pos gramática } =>
    | (gramática.tipo == "faixa") = faixa.analisar({ entrada: entrada pos: pos gramática: gramática })
    | (gramática.tipo == "símbolo") = símbolo.analisar({ entrada: entrada pos: pos gramática: gramática })
    | (gramática.tipo == "sequência") = sequência.analisar({ entrada: entrada pos: pos gramática: gramática índice: 0 valores: [] analisar_de: dialeto.analisar_de })
    | (gramática.tipo == "alternativa") = alternativa.analisar({ entrada: entrada pos: pos gramática: gramática índice: 0 analisar_de: dialeto.analisar_de })
    | (gramática.tipo == "opcional") = opcional.analisar({ entrada: entrada pos: pos gramática: gramática analisar_de: dialeto.analisar_de })
    | (gramática.tipo == "repetição") = repetição.analisar({ entrada: entrada pos: pos gramática: gramática analisar_de: dialeto.analisar_de })
    | (gramática.tipo == "inversão") = inversão.analisar({ entrada: entrada pos: pos gramática: gramática analisar_de: dialeto.analisar_de })
    | {
      sucesso: 0
      pos: pos
    }

  analisar: { entrada gramática } =>
    | (gramática.tipo == "faixa" & gramática.de <= entrada & gramática.até >= entrada) = {
      sucesso: 1
      valor: entrada
    }
    | (gramática.tipo == "faixa") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | (gramática.tipo == "símbolo" & gramática.texto == entrada) = {
      sucesso: 1
      valor: entrada
    }
    | (gramática.tipo == "símbolo") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | (gramática.tipo == "sequência" & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).sucesso == 1 & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).pos == entrada[.]) = {
      sucesso: 1
      valor: dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).valor
    }
    | (gramática.tipo == "sequência") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | (gramática.tipo == "alternativa" & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).sucesso == 1 & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).pos == entrada[.]) = {
      sucesso: 1
      valor: dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).valor
    }
    | (gramática.tipo == "alternativa") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | (gramática.tipo == "opcional" & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).sucesso == 1 & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).pos == entrada[.]) = {
      sucesso: 1
      valor: dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).valor
    }
    | (gramática.tipo == "opcional") = {
      sucesso: 0
      pos: 0
    }
    | (gramática.tipo == "repetição" & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).sucesso == 1 & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).pos == entrada[.]) = {
      sucesso: 1
      valor: dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).valor
    }
    | (gramática.tipo == "repetição") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | (gramática.tipo == "inversão" & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).sucesso == 1 & dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).pos == entrada[.]) = {
      sucesso: 1
      valor: dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática }).valor
    }
    | (gramática.tipo == "inversão") = dialeto.analisar_de({ entrada: entrada pos: 0 gramática: gramática })
    | {
      sucesso: 0
    }

  gerar_de_de: { valor pos gramática } =>
    | (gramática.tipo == "faixa") = faixa_gerar.gerar_de({ valor: valor pos: pos gramática: gramática })
    | (gramática.tipo == "símbolo") = símbolo_gerar.gerar_de({ valor: valor pos: pos gramática: gramática })
    | (gramática.tipo == "sequência") = sequência_gerar.gerar_de({ valor: valor pos: pos gramática: gramática gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "alternativa") = alternativa_gerar.gerar_de({ valor: valor pos: pos índice: 0 gramática: gramática gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "opcional") = opcional_gerar.gerar_de({ valor: valor pos: pos gramática: gramática gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "repetição") = repetição_gerar.gerar_de({ valor: valor pos: pos gramática: gramática gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "inversão") = inversão_gerar.gerar_de({ valor: valor pos: pos gramática: gramática gerar_de_de: dialeto.gerar_de_de })
    | {
      sucesso: 0
      pos: pos
    }

  gerar_de: { valor gramática } =>
    | (gramática.tipo == "faixa") = faixa_gerar.gerar({ valor: valor gramática: gramática })
    | (gramática.tipo == "símbolo") = símbolo_gerar.gerar({ valor: valor gramática: gramática })
    | (gramática.tipo == "sequência") = sequência_gerar.gerar({ valor: valor gramática: gramática gerar_de: dialeto.gerar_de gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "alternativa") = alternativa_gerar.gerar({ valor: valor índice: 0 gramática: gramática gerar_de: dialeto.gerar_de gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "opcional") = opcional_gerar.gerar({ valor: valor gramática: gramática gerar_de: dialeto.gerar_de gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "repetição") = repetição_gerar.gerar({ valor: valor gramática: gramática gerar_de: dialeto.gerar_de gerar_de_de: dialeto.gerar_de_de })
    | (gramática.tipo == "inversão") = inversão_gerar.gerar({ valor: valor gramática: gramática gerar_de: dialeto.gerar_de gerar_de_de: dialeto.gerar_de_de })
    | {
      sucesso: 0
    }

  gerar: { valor gramática } =>
    dialeto.gerar_de({ valor: valor gramática: gramática })
}

{
  analisar: dialeto.analisar
  gerar: dialeto.gerar
}